# 共用基底（第一次先做，後續沿用）

* Spring Boot 3.x、Java 17、Gradle/Maven 皆可
* 依題目需要選擇：Spring Web、Validation、Spring Data JPA、H2 或 PostgreSQL、Lombok、Springdoc OpenAPI
* 啟動指令：`./mvnw spring-boot:run` 或 `./gradlew bootRun`
* 統一回應格式：`{ "success": true/false, "data": ..., "error": ... }`
* 驗收工具：`curl`、Postman；單元測試至少 3 則（正向/例外/邊界）

---

## Day 1｜健康檢查與版本資訊 API

**目的**：啟動即能回應基本狀態，作為所有專案的起點。
**端點**：

* `GET /health` → `{status:"UP"}`
* `GET /info` → `{name, version, buildTime}`（從 `application.yml` 或 `git.properties`）
  **驗收**：服務啟動成功、兩端點皆 200。
  **延伸**：加入 `springdoc-openapi` 產生 Swagger UI。

## Day 2｜回聲與時間伺服器

**目的**：熟悉 Request/Response 與參數驗證。
**端點**：

* `POST /echo`：回傳原文與字數
* `GET /now?tz=Asia/Tokyo`：回傳當前時間（支援時區）
  **驗收**：無/空白字串驗證、錯誤回 400。
  **延伸**：加入全域例外處理 `@ControllerAdvice`。

## Day 3｜隨機密碼產生器

**目的**：服務層與參數物件化。
**端點**：`POST /passwords` 請求 `{length, digits, symbols}` 回傳一組隨機密碼。
**驗收**：長度邊界（min=6, max=64）。
**延伸**：加入「不含易混淆字」選項。

## Day 4｜短網址（記憶體版）

**目的**：Map 暫存、碰撞處理。
**端點**：

* `POST /shorten {url}` → `{code}`
* `GET /r/{code}` → 302 redirect
  **驗收**：相同 URL 重複縮短回同一 code。
  **延伸**：TTL 到期作廢（Scheduled）。

## Day 5｜待辦清單（H2 + JPA）

**目的**：第一個 CRUD。
**模型**：`Todo{id, title, done, createdAt}`
**端點**：標準 `POST/GET/PUT/DELETE /todos`
**驗收**：建立/查詢/更新/刪除皆可。
**延伸**：查詢條件 `?done=true`、排序。

## Day 6｜純文字記事加密儲存

**目的**：Service 封裝與加解密。
**模型**：`Note{id, title, cipherText}`
**端點**：`POST /notes {title, plainText, pass}` → 儲存
`GET /notes/{id}?pass=...` → 解密回傳
**驗收**：密碼錯誤回 403。
**延伸**：BCrypt+隨機 salt。

## Day 7｜每日打卡／連續天數計數

**目的**：日期處理與唯一性約束。
**模型**：`Checkin{id, userId, day}`（`userId+day` 唯一）
**端點**：`POST /checkins/{userId}`（以伺服器日）
`GET /checkins/{userId}/streak`
**驗收**：同日重複打卡回 409。
**延伸**：時區參數。

## Day 8｜速記詞典（Keyword → Text）

**目的**：簡單搜尋與唯一鍵。
**模型**：`Entry{key(unique), text}`
**端點**：`POST /dict`、`GET /dict/{key}`、`GET /dict?like=...`
**驗收**：`like` 需支援前後模糊。
**延伸**：分頁。

## Day 9｜費用分攤計算器（割り勘）

**目的**：純計算型 API + 驗證。
**端點**：`POST /split {total, people, unit(100|500|1000), roundUp:true}`
**回傳**：每人金額、餘額。
**驗收**：人數>0、金額>0。
**延伸**：幹事補差額模式。

## Day 10｜固定排程心跳（Scheduler）

**目的**：Spring Scheduling 與狀態查詢。
**功能**：每分鐘寫入一筆心跳到 DB。
**端點**：`GET /heartbeats/latest`
**驗收**：觀察 2\~3 筆心跳遞增。
**延伸**：開關排程的設定旗標。

## Day 11｜簡易檔案上傳（本機存檔）

**目的**：Multipart 處理。
**端點**：`POST /files` 上傳、回檔名；`GET /files/{name}` 下載
**驗收**：限制大小與副檔名白名單。
**延伸**：SHA-256 重複檢測。

## Day 12｜CSV 批次匯入／匯出 Todo

**目的**：檔案 I/O 與錯誤行回報。
**端點**：`POST /todos/import` 上傳 CSV
`GET /todos/export` 下載 CSV
**驗收**：錯誤行與原因列表化回傳。
**延伸**：非同步處理 + 進度查詢。

## Day 13｜簡易標籤系統（多對多）

**目的**：關聯映射與查詢。
**模型**：`Todo`、多對多 `Tag`
**端點**：`POST /todos/{id}/tags` 綁定；`GET /todos?tag=xxx`
**驗收**：同一標籤不重複綁定。
**延伸**：`Tag` 熱門程度排行。

## Day 14｜速率限制（IP/使用者）

**目的**：Filter/Interceptor 應用。
**端點**：對 `/echo` 加 60 req/min 的限制
**驗收**：超限回 429。
**延伸**：桶形演算法（Token Bucket）。

## Day 15｜郵遞區號查詢（快取）

**目的**：RestTemplate/WebClient + Cache。
**端點**：`GET /postal/{code}` → 模擬呼叫外部服務，結果快取 10 分鐘
**驗收**：二次查詢命中快取、外部服務失敗回退訊息。
**延伸**：Caffeine/Ehcache 指標觀測。

## Day 16｜Markdown 轉 HTML

**目的**：第三方函式庫整合。
**端點**：`POST /md/render {markdown}` → `{html}`
**驗收**：XSS 基本防護。
**延伸**：支援圖表代碼區塊白名單。

## Day 17｜Webhook 中繼器

**目的**：接收外部 POST 並轉送另一目標，含重試。
**端點**：`POST /webhook/in` 儲存後背景送至 `targetUrl`
**驗收**：3 次重試策略、失敗進死信表。
**延伸**：簡易重送介面 `POST /webhook/retry/{id}`。

## Day 18｜全文搜尋（LIKE 版）

**目的**：查詢語法與分頁封裝。
**端點**：`GET /notes/search?q=...&page=1&size=20`
**驗收**：多欄位 OR 搜尋、排序。
**延伸**：切換為 PostgreSQL `to_tsvector`。

## Day 19｜審計日誌（AOP）

**目的**：AOP 記錄誰在何時呼叫了何端點。
**端點**：任意業務端點皆會寫入 `AuditLog{path, method, ts, ip}`
**驗收**：成功/失敗都記錄。
**延伸**：Mask 敏感參數。

## Day 20｜設定中心（Key-Value）

**目的**：環境設定熱更新（DB 作為來源）。
**端點**：`GET /settings/{key}`、`PUT /settings/{key}`
**驗收**：更新後立刻影響服務邏輯（例如開關）。
**延伸**：`@ConfigurationProperties` 自訂 Binder。

## Day 21｜簡易通知中心（Email Mock）

**目的**：佇列化與異步事件。
**端點**：`POST /notify/email {to, subject, body}` → 進隊列
`GET /notify/pending`
**驗收**：背景消費模擬寄送，狀態轉換。
**延伸**：Spring Events vs. RabbitMQ 抽象。

## Day 22｜JWT 無資料庫登入（記憶體用戶）

**目的**：Spring Security 基礎。
**端點**：`POST /auth/login` → JWT，保護 `/todos/**`
**驗收**：無 token 禁止訪問。
**延伸**：角色權限 `ROLE_ADMIN/USER`。

## Day 23｜IP 白名單保護

**目的**：OncePerRequestFilter。
**端點**：保護 `/admin/**` 僅允許指定 IP。
**驗收**：非白名單回 403。
**延伸**：白名單從 DB 可熱更新。

## Day 24｜匯率換算（離線快照）

**目的**：外部資料快照 + 兜底。
**端點**：`GET /fx/convert?from=USD&to=JPY&amt=100`
**驗收**：找不到匯率回 422；快照日期回傳。
**延伸**：手動更新 `POST /fx/snapshot`。

## Day 25｜圖片縮圖服務（本機）

**目的**：檔案處理與 CPU 密集任務。
**端點**：`POST /images/thumbnail?size=256` 上傳原圖回縮圖
**驗收**：超大圖/型別檢查。
**延伸**：背景批量縮圖工作。

## Day 26｜網址可用性批量檢測

**目的**：並行呼叫（`CompletableFuture`）。
**端點**：`POST /links/check {urls:[...]}` → 回傳 200/非 200 統計
**驗收**：併發度控制。
**延伸**：超時與重試策略。

## Day 27｜地理座標距離計算

**目的**：數學與驗證。
**端點**：`POST /geo/distance {lat1,lng1,lat2,lng2}` → 公里數
**驗收**：緯經度範圍檢查。
**延伸**：多點最短路徑（貪婪近似即可）。

## Day 28｜常見字串工具箱

**目的**：Utility 分層與覆用。
**端點**：`POST /text/slugify|camel|snake`
**驗收**：多語系字元處理。
**延伸**：批次模式。

## Day 29｜MyBatis 版 Todo（替換 JPA）

**目的**：DAO/Mapper XML 實作與比較。
**端點**：與 Day 5 相同，但以 MyBatis 實作 CRUD。
**驗收**：與 JPA 版結果一致。
**延伸**：動態查詢（條件可選）。

## Day 30｜Docker 化與多環境設定

**目的**：容器化與外部化設定。
**輸出**：`Dockerfile`、`application.yml`（dev/prod）、`docker-compose.yml`（含 Postgres）
**驗收**：`docker compose up -d` 後可啟動並通過基本健康檢查。
**延伸**：健康探針、資源限制、日誌掛載。

---


